<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Video KYC</title>
    <style>
        /* CSS for styling the interface */
        body {
            font-family: Arial, sans-serif;
            background-color: #f2f2f2;
            margin: 0;
            padding: 0;
            line-height: 1.6;
        }
        .container {
            max-width: 500px;
            margin: 50px auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        label {
            font-weight: bold;
            display: block;
            margin-bottom: 8px;
        }
        input[type="text"] {
            width: 100%;
            padding: 8px;
            margin-bottom: 20px;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
        }
        button {
            background-color: #4CAF50;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        video {
            width: 100%;
            margin-bottom: 20px;
        }
        .text-resize {
            text-align: center;
            margin-top: 10px;
        }
        .text-resize button {
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            margin: 0 5px;
        }
        .text-resize button:hover {
            background-color: #0056b3;
        }
        .capture-btn {
            display: none;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Video KYC</h1>
        <div id="languageSelection">
            <label for="language">Select Language:</label>
            <select id="language" onchange="changeLanguage()">
                <option value="en">English</option>
                <option value="es">Spanish</option>
                <option value="fr">French</option>
                <option value="de">German</option>
                <option value="hi">Hindi</option>
                <!-- Add more languages as needed -->
            </select>
            <button onclick="showForm()">Submit</button>
        </div>
        <div id="kycForm" style="display: none;">
            <label id="fullNameLabel" for="fullName">Full Name:</label>
            <input type="text" id="fullName" name="fullName" required>
            
            <label id="dobLabel" for="dob">Date of Birth:</label>
            <input type="text" id="dob" name="dob" required>
            
            <label id="addressLabel" for="address">Address:</label>
            <input type="text" id="address" name="address" required>
            
            <label id="panAadhaarLabel" for="panAadhaar">PAN Card / Aadhaar:</label>
            <input type="text" id="panAadhaar" name="panAadhaar" required>
            
            <label id="signatureLabel" for="signature">Signature:</label>
            <input type="text" id="signature" name="signature" required>
            
            <label id="incomeRangeLabel" for="incomeRange">Income Range:</label>
            <input type="text" id="incomeRange" name="incomeRange" required>
            
            <label id="employmentTypeLabel" for="employmentType">Type of Employment:</label>
            <input type="text" id="employmentType" name="employmentType" required>
            
            <button type="button" onclick="validateForm()">Next</button>
        </div>
    </div>
    
    <!-- Text resizing buttons -->
    <div class="text-resize">
        <button onclick="resizeText(1)">A+</button>
        <button onclick="resizeText(-1)">A-</button>
    </div>

    <!-- Button for capturing picture -->
    <div class="capture-btn" id="captureButtonContainer">
        <button onclick="capturePicture()">Capture Picture</button>
    </div>

    <script>
        // Function to display the form based on selected language
        function showForm() {
            var language = document.getElementById("language").value;
            if (language === "") {
                alert("Please select a language.");
                return;
            }
            document.getElementById("languageSelection").style.display = "none";
            document.getElementById("kycForm").style.display = "block";
            changeLabels(language);
        
        }

        // Function to validate the form before proceeding
        function validateForm() {
            var fullName = document.getElementById("fullName").value;
            var dob = document.getElementById("dob").value;
            var address = document.getElementById("address").value;
            var panAadhaar = document.getElementById("panAadhaar").value;
            var signature = document.getElementById("signature").value;
            var incomeRange = document.getElementById("incomeRange").value;
            var employmentType = document.getElementById("employmentType").value;

            // Basic validation: check if required fields are filled out
            if (fullName === "" || dob === "" || address === "" || panAadhaar === "" || signature === "" || incomeRange === "" || employmentType === "") {
                alert("Please fill out all required fields.");
                return;
            }

            // Validate date of birth format (YYYY-MM-DD)
            if (!/^(\d{4})-(\d{2})-(\d{2})$/.test(dob)) {
                alert("Please enter a valid date of birth in the format YYYY-MM-DD.");
                return;
            }

            // Validate PAN Card / Aadhaar format (12 characters)
            if (!/^\d{12}$/.test(panAadhaar)) {
                alert("Please enter a valid PAN Card or Aadhaar number (12 digits).");
                return;
            }

            // Validate income range format (numeric value)
            if (!/^\d+$/.test(incomeRange)) {
                alert("Please enter a valid income range (numeric value only).");
                return;
            }

            // Other validations as needed...
            startVideo(); // Start video after showing the form

            // Store some information locally using localStorage
            localStorage.setItem("fullName", fullName);
            localStorage.setItem("dob", dob);
            localStorage.setItem("address", address);

            // Proceed to the next step or perform any other action here
        }

        // Function to resize text
        function resizeText(size) {
            var currentFontSize = parseFloat(document.body.style.fontSize) || 16; // Default font size is 16px
            var newSize = currentFontSize + size;
            document.body.style.fontSize = newSize + "px";
        }

        // Function to change labels based on language selection
        function changeLabels(language) {
            var labels = {
                en: {
                    fullName: "Full Name:",
                    dob: "Date of Birth:",
                    address: "Address:",
                    panAadhaar: "PAN Card / Aadhaar:",
                    signature: "Signature:",
                    incomeRange: "Income Range:",
                    employmentType: "Type of Employment:",
                    submitButton: "Submit"
                },
                es: {
                    fullName: "Nombre completo:",
                    dob: "Fecha de Nacimiento:",
                    address: "Dirección:",
                    panAadhaar: "Tarjeta PAN / Aadhaar:",
                    signature: "Firma:",
                    incomeRange: "Rango de Ingresos:",
                    employmentType: "Tipo de Empleo:",
                    submitButton: "Enviar"
                },
                fr: {
                    fullName: "Nom complet:",
                    dob: "Date de Naissance:",
                    address: "Adresse:",
                    panAadhaar: "Carte PAN / Aadhaar:",
                    signature: "Signature:",
                    incomeRange: "Plage de Revenus:",
                    employmentType: "Type d'Emploi:",
                    submitButton: "Soumettre"
                },
                de: {
                    fullName: "Vollständiger Name:",
                    dob: "Geburtsdatum:",
                    address: "Adresse:",
                    panAadhaar: "PAN-Karte / Aadhaar:",
                    signature: "Unterschrift:",
                    incomeRange: "Einkommensbereich:",
                    employmentType: "Beschäftigungsart:",
                    submitButton: "Einreichen"
                },
                hi: {
                    fullName: "पूरा नाम:",
                    dob: "जन्म तिथि:",
                    address: "पता:",
                    panAadhaar: "पैन कार्ड / आधार कार्ड:",
                    signature: "हस्ताक्षर:",
                    incomeRange: "आय की रेंज:",
                    employmentType: "रोजगार के प्रकार:",
                    submitButton: "प्रस्तुत करें"
                }
                // Add more languages as needed
            };

            var currentLabels = labels[language];
            document.getElementById("fullNameLabel").innerText = currentLabels.fullName;
            document.getElementById("dobLabel").innerText = currentLabels.dob;
            document.getElementById("addressLabel").innerText = currentLabels.address;
            document.getElementById("panAadhaarLabel").innerText = currentLabels.panAadhaar;
            document.getElementById("signatureLabel").innerText = currentLabels.signature;
            document.getElementById("incomeRangeLabel").innerText = currentLabels.incomeRange;
            document.getElementById("employmentTypeLabel").innerText = currentLabels.employmentType;
            document.getElementById("submitButton").innerText = currentLabels.submitButton;
        }

        // Function to start video capture
        function startVideo() {
            var constraints = { video: true };
            
            navigator.mediaDevices.getUserMedia(constraints)
            .then(function(stream) {
                var videoElement = document.createElement('video');
                videoElement.srcObject = stream;
                videoElement.autoplay = true;
                videoElement.playsinline = true;
                videoElement.muted = true;
                videoElement.style.width = '100%';
                videoElement.style.marginBottom = '20px';
                document.getElementById('kycForm').appendChild(videoElement);

                // Show the capture button after video starts
                document.getElementById('captureButtonContainer').style.display = 'block';
            })
            .catch(function(err) {
                console.log('Error accessing camera:', err);
                alert('Error accessing camera. Please check your camera permissions.');
            });
        }

        // Function to capture picture
        function capturePicture() {
            var videoElement = document.querySelector('video');
            var canvas = document.createElement('canvas');
            canvas.width = videoElement.videoWidth;
            canvas.height = videoElement.videoHeight;
            var context = canvas.getContext('2d');
            context.drawImage(videoElement, 0, 0, canvas.width, canvas.height);
            var imageURL = canvas.toDataURL('image/png');
            var imageElement = document.createElement('img');
            imageElement.src = imageURL;
            document.getElementById('kycForm').appendChild(imageElement);
        }
    </script>
</body>
</html>
